{{#section 'head'}}
<meta name="robot" content="noinde">
<script type="text/javascript" src='//cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js'></script>
<script type="text/x-handlebars-template" id="nurseryRhymeTemplate">
	Marry had a little <b>\{{animal}}</b>,its <b>\{{bodyParty}}</b> was <b>\{{adjective}}</b> as <b>{{noun}}</b>
</script>
{{/section}}

<h1> Test Page </h1>
<p>We're testing some jQuery stuff</p>
<div id="nurseryRhyme">Click a button</div>
<hr>
<button id='btnNerseryRhyme'>Generate nursery rhyme</button>
<button id="btnNerseryRhymeAjax">Generate nursery rhyme from ajax</button>


{{#section 'jquery'}}
	<script type="text/javascript">
	$('document').ready(function(){
		// $('h1').html('JQuery works!');
		var nurseryRhymeTemplate=Handlebars.compile($('#nurseryRhymeTemplate').html());
		var $nurseryRhyme=$('#nurseryRhyme');
		$('#btnNerseryRhyme').on('click',function(evt){
			evt.preventDefault();
			$nurseryRhyme.html(nurseryRhymeTemplate({
				animal:'basilisk',
				bodyParty:'TAIL',
				adjective:'sharp',
				noun:'a needle'
			}));
		});

		$('#btnNerseryRhymeAjax').on('click',function(evt){
			evt.preventDefault();
			$.ajax('/data/nursery-rhyme',{
				success:function(data){
					$nurseryRhyme.html(nurseryRhymeTemplate(data));
				}
			});
		});

	});

	</script>
{{/section}}

